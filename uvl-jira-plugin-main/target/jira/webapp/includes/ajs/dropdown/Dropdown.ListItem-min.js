define("jira/ajs/dropdown/dropdown-list-item",["jira/ajs/layer/layer-constants","jira/ajs/control","jira/ajs/input/mouse","underscore","jquery","jira/util/top-same-origin-window"],(function(t,e,i,s,n,o){"use strict";var r=o(window),a=e.extend({CLASS_SIGNATURE:"AJS_DROPDOWN_LISTITEM",init:function(t){this._setOptions(t);this.$element=n(this.options.element);this.$element.attr("role","presentation");var e=this.$element.find("a");if(e.length){var i={tabindex:0};e.attr("role")||(i.role="menuitem");e.attr(i)}this.hasFocus=!1;this._ensureIdOf(this.$element);this._assignEvents("instance",this);this._assignEvents("element",this.$element)},_getDefaultOptions:function(){return{element:null,autoScroll:!0,focusClass:t.ACTIVE_CLASS}},_ensureIdOf:function(t){var e=t.attr("id");s.isEmpty(e)&&(e=t.attr("id",s.uniqueId(this.CLASS_SIGNATURE+"__")));return e},_events:{instance:{focus:function(t){this.hasFocus=!0;this.$element.addClass(this.options.focusClass);if(!t.noscrolling){a.MOTION_DETECTOR.unbind();this.isWaitingForMove=!0;this.options.autoScroll&&this.$element.scrollIntoView(a.SCROLL_INTO_VIEW_OPTIONS)}},blur:function(){this.hasFocus=!1;this.$element.removeClass(this.options.focusClass)},accept:function(){var t=new n.Event("click"),e=this.$element.is("a")?this.$element:this.$element.find("a");e.trigger(t);var i=e.attr("href");i&&!t.isDefaultPrevented()&&(r.location=i)}},element:{mousemove:function(){if(this.isWaitingForMove&&a.MOTION_DETECTOR.moved&&!this.hasFocus||!this.hasFocus){this.isWaitingForMove=!1;this.trigger({type:"focus",noscrolling:!0})}},focusin:function(){this.trigger({type:"focus",noscrolling:!0})},focusout:function(){this.trigger({type:"blur"})}}}});a.MOTION_DETECTOR=new i.MotionDetector;a.SCROLL_INTO_VIEW_OPTIONS={duration:100,callback:function(){a.MOTION_DETECTOR.wait()}};return a}));AJS.namespace("AJS.Dropdown.ListItem",null,require("jira/ajs/dropdown/dropdown-list-item"));