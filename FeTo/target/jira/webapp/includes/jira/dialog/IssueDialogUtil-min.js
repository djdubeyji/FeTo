define("jira/dialog/dialog-util",["jira/dialog/dialog-register","jira/jquery/deferred","jira/issuenavigator/issue-navigator","jquery"],(function(e,s,t,i){"use strict";var u,r={getDefaultAjaxOptions:function(){if(JIRA&&"function"==typeof e.getDefaultAjaxOptions&&r.getDefaultAjaxOptions!==e.getDefaultAjaxOptions)return e.getDefaultAjaxOptions.apply(this,arguments);var s=t.get$focusedRow(),i=this.options.url||this.getRequestUrlFromTrigger();if(/id=\{0\}/.test(i)){if(!s.length)return!1;i=i.replace(/(id=\{0\})/,"id="+s.attr("rel"))}if(t.isNavigator()){var u=/[?&]id=([0-9]+)/.exec(i);this.issueId=u&&2===u.length?u[1]:null;if(this.issueId!==s.attr("rel")){t.Shortcuts.focusRow(this.issueId);s=t.get$focusedRow()}this.issueKey=t.getSelectedIssueKey()}return{url:i,data:{decorator:"dialog",inline:"true"}}}};r.BeforeShowIssueDialogHandler=(u=[],{add:function(e){u.push(e);return this},execute:function(){var e=[];if(0===u.length)return s().resolve();i.each(u,(function(s,t){e.push(t())}));return i.when.apply(i,e)}});r.storeCurrentIssueIdOnSucessfulSubmit=function(){t.isNavigator()&&t.setIssueUpdatedMsg({issueMsg:this.options.issueMsg,issueId:this.issueId,issueKey:this.issueKey})};return r}));!function(e){"use strict";AJS.namespace("JIRA.Dialogs",null,require("jira/dialog/dialog-register"));AJS.namespace("JIRA.Dialogs.getDefaultAjaxOptions",null,e.getDefaultAjaxOptions);AJS.namespace("JIRA.Dialogs.BeforeShowIssueDialogHandler",null,e.BeforeShowIssueDialogHandler);AJS.namespace("JIRA.Dialogs.storeCurrentIssueIdOnSucessfulSubmit",null,e.storeCurrentIssueIdOnSucessfulSubmit)}(require("jira/dialog/dialog-util"));