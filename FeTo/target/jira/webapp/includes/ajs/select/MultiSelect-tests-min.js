AJS.test.require(["jira.webresources:select-pickers"],(function(){"use strict";var e=require("jquery"),t=require("jira/ajs/select/multi-select");module("MultiSelect",{setup:function(){this.$select=e('<select id="drinks" multiple="multiple">\n<optgroup label="Beers">\n<option value="1">Victoria Bitter</option>\n<option value="2">Blue tongue</option>\n<option value="3">James Squires</option>\n</optgroup>\n<optgroup label="Wines">\n<option value="4">Jacobs Creek</option>\n<option value="5">Oyster Bay</option>\n</optgroup>\n</select>').appendTo("#qunit-fixture")},teardown:function(){this.$select.remove()}});test("should check if indentation needs to be set on focus",(function(e){var t=e.async(),i=document.getElementById("qunit-fixture");i.style.display="none";var s=n();s._probablyNeedsIndentationSet=sinon.stub().returns(!0);o(s);i.style.display="block";setTimeout((function(){document.getElementById("drinks-textarea").focus();sinon.assert.callCount(s._probablyNeedsIndentationSet,1);t()}),100)}));test("proper value indentation value should be computed on focus",(function(e){var t=e.async(),i=document.getElementById("qunit-fixture");i.style.display="none";o(n());i.style.display="block";var s=document.getElementById("drinks-textarea");equal(parseInt(s.style.paddingLeft),4);setTimeout((function(){s.focus();var e=document.getElementById("item-row-1"),n=e.offsetLeft+e.offsetWidth+8;equal(parseInt(s.style.paddingLeft),n);t()}),100)}));function n(){return new t({element:e("#drinks"),itemAttrDisplayed:"label"})}function o(e){e.addItem({properties:{fallbackIcon:"none",icon:"none",invalid:!1,label:"Victoria Bitter",removeOnUnSelect:!1,selected:!0,showLabel:!0,styleClass:"",title:"Victoria Bitter",value:"1"}},!0)}}));