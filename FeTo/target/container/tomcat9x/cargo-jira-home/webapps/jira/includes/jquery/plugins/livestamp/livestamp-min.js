define("jira/jquery/plugins/livestamp/livestamp",["jquery","jira/moment","jira/util/data/meta","jira/jquery/plugins/livestamp/time"],(function(t,e,a,i){"use strict";var r,n=a.getBoolean("date-relativize"),s=[],u=function t(){clearTimeout(r);l();r=setTimeout(t,6e3)},l=function(){s=t.grep(s,(function(t){var a,r,s=t.data("livestampdata"),u=t.data("relativize");if(e.isMoment(s)&&t.closest("html").length){a=t.text();var l=t.data("datetime-format");l=l||"fullAge";n||u||(l=l.replace("Age",""));a!==(r=i.formatDate(s,i.FormatType.types[l],u))&&t.text(r)}else t.removeData("livestampdata");return!!t.data("livestampdata")}))},m=function(a){a.each((function(){var a=t(this),i=a.attr("datetime");if(i){!function(t,e){t.data("livestampdata",e);s.push(t)}(a,isNaN(i)?e(i).utcOffset(i):e(parseInt(i,10)))}}));u();return a};t.fn.livestamp=function(){return m(this)};return m}));require("jira/jquery/plugins/livestamp/livestamp");