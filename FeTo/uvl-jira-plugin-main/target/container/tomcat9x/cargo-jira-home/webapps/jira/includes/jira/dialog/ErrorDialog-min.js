define("jira/dialog/error-dialog",["jira/util/formatter","jira/dialog/dialog","jira/ajs/ajax/ajax-util","jira/lib/class","jira/util/browser","jquery"],(function(r,e,o,i,a,n){"use strict";var t=i.extend({init:function(o){var i,t=o.message||r.I18n.getText("common.forms.ajax.servererror"),d=o.heading||r.I18n.getText("common.words.error");i=!o.mode||["warning","error","info"].indexOf(o.mode)<0?"error":o.mode;this.dialog=new e({id:"error-dialog",content:function(r){var e=n(JIRA.Templates.ErrorDialog.serverErrorModalDialog({message:t,mode:i}));e.find(".error-dialog-refresh").click((function(r){r.preventDefault();a.reloadViaWindowLocation()}));r(e)}});this.dialog.addHeading(d);this.dialog.handleCancel=n.noop},hide:function(){this.dialog.hide();return this},show:function(){this.dialog.show();return this}});t.openErrorDialogForXHR=function(r){return new t({message:o.getErrorMessageFromXHR(r)}).show()};return t}));AJS.namespace("JIRA.ErrorDialog",null,require("jira/dialog/error-dialog"));