!function(){var t=require("jira/util/top-same-origin-window")(window),i=t.jQuery;function o(o){(o=o||{}).marginTop=o.marginTop||o.margin||0;o.marginBottom=o.marginBottom||o.margin||0;var e=i(t),n=i("#stalker"),l=e.scrollTop(),a=e.height(),s=Math.max(0,r(this[0])-o.marginTop),h=o.marginTop+this.outerHeight()+o.marginBottom,c=l;c+a<s+h&&(c=s+h-a);if(0!==n.length){var g=this[0],p=null;do{"absolute"===i(g).css("position")&&(p=g)}while(g=g.offsetParent);p&&r(p)>r(n[0])&&(s-=n.outerHeight())}c>s&&(c=s);return c}function r(t){var i=t,o=0;do{o+=i.offsetTop}while(i=i.offsetParent);i=t;do{i&&i.scrollTop&&(o-=i.scrollTop);i=i.parentNode}while(i&&i!=document.body);return o}window.jQuery.fn.scrollIntoView=function(r){if(0===this.length)return this;var e=this.hasFixedParent();if(e){var n=i(this),l=i(e),a=l.outerHeight(),s=l.scrollTop(),h=s+a,c=n.position(),g=c.top+n.height(),p=g+s>h,u=c.top<0;p?l.scrollTop(s+g-a):u&&l.scrollTop(s+c.top)}else{r=r||{};if(!this.is(":visible")&&r.callback){r.callback();return this}var f=i(t).scrollTop(),d=o.call(this,r),m=i("#stalker");if(d!==f){var T=this,v=i(t.document);v.trigger("moveToStarted",T);r.duration?v.find("body, html").stop(!0).animate({scrollTop:d},r.duration,"swing",(function(){r.callback&&r.callback();v.trigger("moveToFinished",T);m.trigger("positionChanged")})):v.find("body, html").prop("scrollTop",d)}else r.callback&&r.callback()}return this};i.fn.isInView=function(r){if(this.length>0&&!this.hasFixedParent()){r=r||{};var e=i(t).scrollTop();return o.call(this,r)===e}return this}}();