define("jira/autocomplete/snapshot-autocomplete",["jira/autocomplete/rest-autocomplete","jira/util/browser","jira/util/elements","jira/util/objects","jira/moment","jira/util/data/meta","jira/moment/moment.jira.formatter","wrm/context-path","jquery"],(function(t,e,a,n,r,o,i,s,u){"use strict";var l=s()+"/rest/api/2/index-snapshot",m=i.translateSimpleDateFormat(o.get("date-time")),p=i.translateSimpleDateFormat(o.get("date-dmy"));return function(o){var i=n.begetObject(t);i.getAjaxParams=function(){return{data:{},url:l,dataType:"json",type:"GET"}};i.renderSuggestions=function(t){if(!e.isSelenium()&&!a.elementIsFocused(this.field))return!1;var n=void 0,o=[];this.clearResponseContainer();var s=function(t,e){return e?t.filter((function(t){return t.absolutePath.toLowerCase().includes(e.toLowerCase())})):t}(t||[],i.field.val());if(s&&s.length>0){n=u("<ul/>").appendTo(this.responseContainer);u(s).each((function(t,e){o.push([u('<li title="'+e.absolutePath+'"/>').html('<span class="aui-lozenge aui-lozenge-subtle">'+(i=e.timestamp,r(i).format(p)+" "+r(i).format(m))+"</span> "+(a=e.absolutePath,a.split("/").pop())).appendTo(n),e.absolutePath]);var a,i}))}o.length>0&&i.addSuggestionControls(o);return o};i.init(o);return i}}));