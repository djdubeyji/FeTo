AJS.test.require("jira.webresources:projectpermissions",(function(){"use strict";var e=require("jquery"),n=require("jira/project/permissions/grantsview"),i=require("jira/project/permissions/securitytypes"),a=[{displayValue:"displayValue"}],t=[{someKey:"someKey"}];module("projectpermissions/grants-view");function r(e,i){return new n({grants:[{securityType:e,values:i}],el:"#qunit-fixture"})}test("Correct empty value shown for application role",(function(){var n=r(i.APPLICATION_ROLE,t),a=e("<div>").append(n.renderGrant(n.grants[0]));strictEqual(a.find("dd").size(),1,"There should only be one element in the dd");strictEqual(a.find("dd").text(),"admin.permission.types.application.role.any","Should display provided empty value for application role")}));test("Correct empty value shown for group",(function(){var n=r(i.GROUP,t),a=e("<div>").append(n.renderGrant(n.grants[0]));strictEqual(a.find("dd").size(),1,"There should only be one element in the dd");strictEqual(a.find("dd").text(),"admin.common.words.anyone","Should display provided empty value for group")}));test("Single values do not have empty values displayed",(function(){var n=r(i.REPORTER,t),a=e("<div>").append(n.renderGrant(n.grants[0]));ok(n.isSingleValueGrant(n.grants[0]),"A non-group, non-applicationrole security type with no values passed in is a single value grant");strictEqual(a.find("dd").size(),0,"There should be no elements in the dd")}));test("isSingleValueGrant is false for groups",(function(){var e=r(i.GROUP,[]);ok(!e.isSingleValueGrant(e.grants[0]),"A group security type is not a single value grant")}));test("isSingleValueGrant is false for applicationRole",(function(){var e=r(i.APPLICATION_ROLE,[]);ok(!e.isSingleValueGrant(e.grants[0]),"An applicationrole security type is not a single value grant")}));test("isSingleValueGrant is false when values are passed in",(function(){var e=r(i.REPORTER,a);ok(!e.isSingleValueGrant(e.grants[0]),"When values are passed in it is not a single value grant")}));test("isSingleValueGrant is true when not a group, application role, and no values passed in",(function(){var e=r(i.REPORTER,[]);ok(e.isSingleValueGrant(e.grants[0]),"A non-group, non-applicationrole security type with no values passed in is a single value grant")}))}));