function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}AJS.test.require(["jira.webresources:jquery-plugin-shortener"],(function(){"use strict";var e=require("jira/ajs/shorten/shortener"),t=void 0;module("Shortener",{setup:function(){t=function(){var e=document.createElement("div");e.classList.add("shorten");[].concat(_toConsumableArray(Array(5))).map((function(){return e.appendChild(document.createElement("span"))}));[].concat(_toConsumableArray(Array(5))).map((function(){return e.appendChild(document.createElement("a"))}));var t=document.createElement("a");t.classList.add("shortener-expand");e.appendChild(t);return e}();document.querySelector("#qunit-fixture").appendChild(t);document.querySelector("#qunit-fixture").style.top="auto";document.querySelector("#qunit-fixture").style.left="auto"},teardown:function(){t.remove()}});test("should render only one expand button when called multiple times",(function(){new e({element:t});equal(r().length,1,"short expand");equal(n().length,1,"br");new e({element:o()});equal(r().length,1,"short expand");equal(n().length,1,"br")}));test("should show proper count of hidden items when called multiple times",(function(){new e({element:t});equal(document.querySelector(".shortener-expand").textContent,"(9)","short expand");new e({element:o()});equal(document.querySelector(".shortener-expand").textContent,"(9)","short expand")}));function n(){return document.querySelectorAll("br")}function r(){return document.querySelectorAll(".shortener-expand")}function o(){return document.querySelector(".shortener-expand")}}));