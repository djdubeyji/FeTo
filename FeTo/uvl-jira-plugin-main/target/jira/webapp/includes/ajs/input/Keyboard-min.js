define("jira/ajs/input/keyboard",["jira/util/navigator"],(function(e){"use strict";var r={},t={},n={},i={},o=i.SpecialKey={BACKSPACE:f("backspace",8,!0),TAB:f("tab",9,!0),RETURN:f("return",13,!0),SHIFT:f("shift",16),CTRL:f("ctrl",17),ALT:f("alt",18),PAUSE:f("pause",19),CAPS_LOCK:f("capslock",20),ESC:f("esc",27,!0),SPACE:f("space",32,!0),PAGE_UP:f("pageup",33),PAGE_DOWN:f("pagedown",34),END:f("end",35),HOME:f("home",36),LEFT:f("left",37),UP:f("up",38),RIGHT:f("right",39),DOWN:f("down",40),INSERT:f("insert",45),DELETE:f("del",46),F1:f("f1",112),F2:f("f2",113),F3:f("f3",114),F4:f("f4",115),F5:f("f5",116),F6:f("f6",117),F7:f("f7",118),F8:f("f8",119),F9:f("f9",120),F10:f("f10",121),F11:f("f11",122),F12:f("f12",123),NUMLOCK:f("numlock",144),SCROLL:f("scroll",145),META:f("meta",224)};function f(e,i,o){r[i]=e;t[e]=i;o&&(n[i]=!0);return e}o.eventType=function(){return e.isMozilla()?"keypress":"keydown"};o.fromKeyCode=function(e){return r[e]};o.toKeyCode=function(e){return t[e]};o.isAscii=function(e){return!!n[e]};o.isSpecialKey=function(e){return!!o.toKeyCode(e)};function a(e){return e.originalEvent||e}i.characterEntered=function(e){var r=a(e);if("keypress"===r.type){var t=u(r);if(null!==t&&(!o.isAscii(t)||o.fromKeyCode(t)===o.SPACE))return String.fromCharCode(t)}};function u(e){var r=a(e);return null==r.which?r.keyCode:0!==r.which&&0!==r.charCode?r.which:null}i.specialKeyEntered=function(r){r=a(r);if(e.isMozilla()){if("keypress"===r.type){var t=u(r);if(null===t)return o.fromKeyCode(r.keyCode);if(o.isAscii(t))return o.fromKeyCode(t)}}else if("keypress"!==r.type)return o.fromKeyCode(r.keyCode)};i.shortcutEntered=function(r){if((r=a(r)).type===o.eventType()){var t=i.specialKeyEntered(r),n="";r.altKey&&t!==o.ALT&&(n+=s(o.ALT));r.ctrlKey&&t!==o.CTRL&&(n+=s(o.CTRL));r.metaKey&&!r.ctrlKey&&t!==o.META&&(n+=s(o.META));r.shiftKey&&t!==o.SHIFT&&(n+=s(o.SHIFT));if(t)return n+t;if(n.length>0&&"shift+"!==n){var f=function(r){r=a(r);var t=i.specialKeyEntered(r);if(t)return t;if(e.isMozilla()){if("keypress"===r.type){var n=u(r);if(null!==n)return String.fromCharCode(n).toLowerCase()}}else if("keypress"!==r.type)return String.fromCharCode(r.keyCode).toLowerCase()}(r);if(f)return n+f}}};function s(e){return e+"+"}return i}));AJS.namespace("JIRA.Keyboard",null,require("jira/ajs/input/keyboard"));