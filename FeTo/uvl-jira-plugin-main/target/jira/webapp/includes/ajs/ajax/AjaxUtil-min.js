define("jira/ajs/ajax/ajax-util",["jira/util/formatter","underscore","exports"],(function(r,e,t){"use strict";var s=function(r){try{return function(r){if(r){if(e.isArray(r.errorMessages)&&!e.isEmpty(r.errorMessages))return r.errorMessages.join(" ");if(e.isObject(r.errors)&&!e.isEmpty(r.errors))return e.values(r.errors).join(" ")}return null}(r.responseText&&JSON.parse(r.responseText))}catch(r){}return null},n=/websudo/i;t.getErrorMessageFromXHR=function(e){return s(e)||function(e){return 401===e.status?r.I18n.getText("common.ajax.unauthorised.alert"):e.responseText?r.I18n.getText("common.ajax.servererror"):r.I18n.getText("common.ajax.commserror")}(e)};t.isWebSudoFailure=function(r){return r&&401===r.status&&n.test(r.responseText)}}));AJS.namespace("JIRA.Ajax",null,require("jira/ajs/ajax/ajax-util"));