!function(e){var t={8:"Backspace",9:"Tab",13:"Return",16:"Shift",17:"Control",18:"Alt",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",46:"Del"},n={16:"Shift",17:"Control",18:"Alt"},r=0;i("keydown",(function(e){if(e.which in n){if(e.which===r)return null;r=e.which}else r=0;return t[e.which]||null}),"aui:keydown");i("keypress",(function(e){var t=e.altKey&&e.ctrlKey;r=0;switch(e.which){case 0:case 8:case 9:case 27:break;default:if(t||!e.ctrlKey&&!e.metaKey)return String.fromCharCode(e.which)}return null}),"aui:keypress");i("keyup",(function(e){e.which===r&&(r=0);return t[e.which]||null}),"aui:keyup");function i(t,n,r){var i=0;e.event.special[r]={setup:function(){0===i&&e(document).bind(t,c);i++},teardown:function(){0===--i&&e(document).unbind(t,c)}};function c(t){var i=n(t);if(i){var c=new e.Event(r);c.key=i;if("aui:keypress"!==r){c.shiftKey=t.shiftKey;c.ctrlKey=t.ctrlKey;c.altKey=t.altKey}var u=t.target;if((9===u.nodeType?u:u.ownerDocument)!==document){c.target=u;arguments[0]=c;e.event.trigger(c,arguments,document,!0)}else e(u).trigger(c);c.isDefaultPrevented()&&t.preventDefault()}}}}(jQuery);