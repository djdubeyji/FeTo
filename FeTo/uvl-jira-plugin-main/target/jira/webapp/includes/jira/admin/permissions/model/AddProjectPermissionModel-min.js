define("jira/project/permissions/addpermissionmodel",["jira/backbone-1.3.3","jquery","jira/project/permissions/grantcollection","wrm/context-path"],(function(e,i,n,r){"use strict";return e.Model.extend({defaults:{grantCollection:null,showMore:null,submitDisabled:null},url:function(){return this.addModelUrl},initialize:function(e){this.permissionSchemeId=e.permissionSchemeId;this.permissionKey=e.permissionKey;this.permissionKey?this.addModelUrl=r()+"/rest/internal/2/managedpermissionscheme/"+this.permissionSchemeId+"/"+this.permissionKey:this.addModelUrl=r()+"/rest/internal/2/managedpermissionscheme/securitytypes"},toggleShowMore:function(){this.set("showMore",!this.get("showMore"))},parse:function(e){var r=i.extend({},e);r.grantCollection=new n(e.primarySecurityType);r.grantCollection.forEach((function(e){e.set("primary",!0)}));r.grantCollection.add(e.secondarySecurityType);return r}})}));