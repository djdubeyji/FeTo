define("jira/field/multi-user-list-picker",["jira/util/formatter","jira/field/multi-user-list-picker/item","jira/ajs/select/suggestions/user-list-suggest-handler","jira/ajs/select/multi-select","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/ajs/group","wrm/context-path","jquery"],(function(e,t,i,r,s,n,a,u,l){"use strict";var o=u();return r.extend({init:function(r){var u=o+"/rest/api/1.0/users/picker";void 0!==r.ajaxOptions&&void 0!==r.ajaxOptions.url&&(u=r.ajaxOptions.url);l.extend(!0,r,{itemAttrDisplayed:"label",userEnteredOptionsMsg:e.I18n.getText("common.form.email.label.suffix"),showDropdownButton:!1,removeOnUnSelect:!0,ajaxOptions:{url:u,query:!0,data:{showAvatar:!0},formatResponse:function(e){var t=[];l(e).each((function(e,i){var r=new n({weight:e,label:i.footer});l(i.users).each((function(){r.addItem(new s({value:this.name,label:this.displayName,html:this.html,icon:this.avatarUrl,iconType:"rounded",allowDuplicate:!1,highlighted:!0}))}));t.push(r)}));return t}},suggestionsHandler:i,itemGroup:new a,itemBuilder:function(e){return new t({descriptor:e,container:this.$selectedItemsContainer})}});this._super(r)},_createFurniture:function(e){this._super(e);this.options.description&&this._render("description",this.options.description).insertAfter(this.$field)},updateItemsIndent:l.noop,_renders:{selectedItemsWrapper:function(){return l('<div class="recipients" />')},selectedItemsContainer:function(){return l("<ol />")},description:function(e){return l("<div />").addClass("description").text(e)}}})}));AJS.namespace("JIRA.MultiUserListPicker",null,require("jira/field/multi-user-list-picker"));AJS.namespace("JIRA.MultiUserListPicker.Item",null,require("jira/field/multi-user-list-picker/item"));