AJS.test.require("jira.webresources:top-same-origin-window",(function(){"use strict";module("jira/util/top-same-origin-window",{setup:function(){this.topSameOriginWindow=require("jira/util/top-same-origin-window")}});test("When first parent is valid",(function(){var i={location:{href:"helloworld"},AJS:{}},e={parent:i},t=this.topSameOriginWindow(e);equal(t,i)}));test("Window is top window itself (do not need to be Jira window)",(function(){var i={parent:i,location:{href:"helloworld"}},e=this.topSameOriginWindow(i);equal(e,i)}));test("When first parent is out of scope, returns itself",(function(){var i={parent:{location:null}},e=this.topSameOriginWindow(i);equal(e,i)}));test("When second parent is out of scope, returns parent",(function(){var i={location:{href:"helloworld"},parent:{location:null},AJS:{}},e={parent:i};this.topSameOriginWindow=require("jira/util/top-same-origin-window");var t=this.topSameOriginWindow(e);equal(t,i)}));test("When in same origin goes to the top Jira window",(function(){var i={location:{href:"hello"},parent:i,AJS:{}},e={parent:{location:{href:"hello.world"},parent:i}};this.topSameOriginWindow=require("jira/util/top-same-origin-window");var t=this.topSameOriginWindow(e);equal(t,i)}));test("When in same origin goes to the outer most Jira window that is not the top window",(function(){var i={};Object.assign(i,{location:{href:"hello"},parent:i});var e={location:{href:"hello.jira"},parent:i,AJS:{}},t={parent:e};this.topSameOriginWindow=require("jira/util/top-same-origin-window");var o=this.topSameOriginWindow(t);equal(o,e)}));test("When external dashboard embeds one product whose gadget embeds another product",(function(){var i={};Object.assign(i,{location:{href:"external.site"},parent:i});var e={location:{href:"hello.jira"},parent:i,AJS:{}},t={location:{href:"hello.jira2"},parent:{location:{href:"gadget"},parent:e},AJS:{}};this.topSameOriginWindow=require("jira/util/top-same-origin-window");var o=this.topSameOriginWindow(t);equal(o,e)}))}));