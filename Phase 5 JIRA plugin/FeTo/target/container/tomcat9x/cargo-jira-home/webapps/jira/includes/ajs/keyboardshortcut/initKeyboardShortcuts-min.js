define("jira/ajs/keyboardshortcut/init-keyboard-shortcut",["jira/ajs/keyboardshortcut/keyboard-shortcut","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","jira/util/data/meta","jira/dialog/dialog-stack","aui/dropdown","aui/popup","jira/jquery/deferred","jquery","wrm/data"],(function(r,t,e,o,a,u,n,i,c){"use strict";var s=new n,d={};Object.defineProperty(d,"keyboardShortcuts",{value:s.promise(),writable:!1,configurable:!1});function b(t){fetch(t).then((function(r){return r.json()})).then((function(t){AJS.activeShortcuts=r.fromJSON(t.shortcuts);s.resolve(AJS.activeShortcuts)})).catch((function(r){return console.error("There was an error during the setup of keyboard shortcuts.",r)}))}i((function(){r.addIgnoreCondition((function(){return u.current||a.current||o.current||t.areKeyboardShortcutsDisabled()}));e.get("keyboard-shortcuts-enabled")?t.enable():t.disable();c.claim("keyboardShortcutsUrl",b)}));i(document).bind("aui:keyup",(function(r){var t,e;if("Esc"===r.key&&(t=i(r.target)).is(":input:not(button[type='button'])")){e=new i.Event("beforeBlurInput");t.trigger(e,[{reason:"escPressed"}]);e.isDefaultPrevented()||t.blur()}}));return d}));require("jira/ajs/keyboardshortcut/init-keyboard-shortcut");