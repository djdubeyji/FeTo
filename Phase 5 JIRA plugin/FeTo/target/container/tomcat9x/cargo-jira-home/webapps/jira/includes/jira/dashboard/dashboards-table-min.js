define("jira/dashboard/dashboards-table",["jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/common/page","jira/field/favourite-picker","jira/autocomplete/user-autocomplete","jira/dialog/form-dialog","jira/tabs/tab-manager","jira/tables/legacy-table-utils","wrm/context-path","jquery"],(function(a,t,e,n,r,i,o,s,d,c,u){"use strict";var l={};function h(r){u("#filter_search_results").empty();u.ajax({method:"get",dataType:"html",url:r+"&decorator=none&contentOnly=true&Search=Search",success:function(r){var i=n.mainContentElement();i.html(r);a.trigger(t.NEW_CONTENT_ADDED,[i,e.dashboardsSearchRefreshed]);f();b()}})}function b(){var a=u("#pageSearchForm");i.init(a);a.submit((function(){h(c()+"/secure/ConfigurePortalPages.jspa?"+u(this).serialize());return!1}))}function f(){r.init(u("#content"))}function v(){new o({trigger:"#content a.delete_dash"})}l.init=function(){s.navigationTabs.addLoadEvent("favourite-dash-tab",f);s.navigationTabs.addLoadEvent("favourite-dash-tab",v);s.navigationTabs.addLoadEvent("my-dash-tab",f);s.navigationTabs.addLoadEvent("my-dash-tab",v);s.navigationTabs.addLoadEvent("search-dash-tab",f);s.navigationTabs.addLoadEvent("search-dash-tab",b);s.navigationTabs.addLoadEvent("popular-dash-tab",f);v();b();u(document).on("click","#pp_browse tr:first a, .filterPaging a",(function(a){h(u(this).attr("href"));a.preventDefault();a.stopPropagation()}));u(document).on("click","#content .dash-reorder a",(function(a){a.preventDefault();var t=u(this);u.ajax({method:"get",dataType:"html",url:t.attr("href")+"&decorator=none&contentOnly=true",success:function(a){n.mainContentElement().html(a);f();d.recolourSimpleTableRows(t.closest("table").attr("id"))}})}))};return l}));